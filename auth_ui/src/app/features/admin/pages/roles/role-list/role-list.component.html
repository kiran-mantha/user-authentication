<div class="role-list-container">
  <div class="page-header">
    <div class="header-content">
      <h1 class="page-title">Role Management</h1>
      <p class="page-subtitle">Manage system roles and their permissions</p>
    </div>
    <button class="create-button" (click)="createRole()">
      <span class="button-icon">‚ûï</span>
      <span class="button-text">Create Role</span>
    </button>
  </div>

  <div class="filters-section">
    <div class="search-container">
      <span class="search-icon">üîç</span>
      <input
        type="text"
        class="search-input"
        placeholder="Search roles..."
        [(ngModel)]="searchTerm"
        (ngModelChange)="onSearchChange($event)"
      />
    </div>
  </div>

  <div *ngIf="errorMessage" class="error-alert">
    <span class="error-icon">‚ö†Ô∏è</span>
    <span class="error-text">{{ errorMessage }}</span>
  </div>

  <div class="table-container">
    <div *ngIf="isLoading" class="loading-overlay">
      <div class="loading-spinner"></div>
      <p class="loading-text">Loading roles...</p>
    </div>

    <table class="roles-table" *ngIf="!isLoading">
      <thead>
        <tr>
          <th>Role Name</th>
          <th>Description</th>
          <th>Permissions</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let role of roles">
          <td class="role-name-cell">
            <span class="role-name">{{ role.name }}</span>
          </td>
          <td class="description-cell">
            <span class="description">{{ role.description }}</span>
          </td>
          <td class="permissions-cell">
            <span class="permissions">{{ getRolePermissions(role) }}</span>
          </td>
          <td class="actions-cell">
            <div class="action-buttons">
              <button class="edit-button" (click)="editRole(role)" title="Edit role">
                <span class="button-icon">‚úèÔ∏è</span>
              </button>
              <button class="delete-button" (click)="deleteRole(role)" title="Delete role">
                <span class="button-icon">üóëÔ∏è</span>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="!isLoading && roles.length === 0" class="empty-state">
      <div class="empty-icon">üé≠</div>
      <h3 class="empty-title">No roles found</h3>
      <p class="empty-description">No roles match your search criteria.</p>
    </div>
  </div>

  <div class="pagination-section" *ngIf="!isLoading && totalRoles > 0">
    <div class="pagination-info">
      <span class="info-text">
        Showing {{ (currentPage - 1) * pageSize + 1 }} - {{ Math.min(currentPage * pageSize, totalRoles) }} of {{ totalRoles }} roles
      </span>
    </div>
    
    <div class="pagination-controls">
      <button 
        class="pagination-button prev" 
        (click)="onPageChange(currentPage - 1)"
        [disabled]="currentPage === 1"
      >
        <span class="button-icon">‚óÄÔ∏è</span>
        <span class="button-text">Previous</span>
      </button>

      <div class="page-numbers">
        <button
          *ngFor="let page of pageNumbers"
          class="page-button"
          [class.active]="page === currentPage"
          (click)="onPageChange(page)"
        >
          {{ page }}
        </button>
      </div>

      <button 
        class="pagination-button next" 
        (click)="onPageChange(currentPage + 1)"
        [disabled]="currentPage === totalPages"
      >
        <span class="button-text">Next</span>
        <span class="button-icon">‚ñ∂Ô∏è</span>
      </button>
    </div>

    <div class="page-size-selector">
      <label for="pageSize">Show:</label>
      <select id="pageSize" [(ngModel)]="pageSize" (change)="onPageSizeChange($event.target.value)">
        <option value="10">10</option>
        <option value="25">25</option>
        <option value="50">50</option>
        <option value="100">100</option>
      </select>
    </div>
  </div>
</div>